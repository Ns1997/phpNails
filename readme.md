Сайт "Ольга Прилепская - маникюр"
=====================
***
Каталоги и файлы, добавленные для работы с БД
-----------------------------------
1. каталог **api** - для php-файлов обмена информацией между веб-страницей и сервером (например, файл **orders.php** - для создания, получения и изменения информации о заказах);
2. каталог **js/custom** - для js-файлов обмена информацией между веб-страницей и сервером (файл **ajax.js** - для асинхронной отправки запросов на сервер и получения ответов в формате json-строки);
3. каталог **persistence** - для php-файлов обмена информацией между api и БД (например, файл **db_connector.php** - для соединения с БД, другие файлы из каталога **persistence/entities** - для операций добавления, изменения и выборки данных);
4. каталог **admin** - для файлов веб-страницы администратора, в нем расположены библиотека с готовыми стилями materialize и библиотека для удобного заполнения шаблонов разметки данными, полученными с сервера - hogan;
5. файл **nails_5.sql** - для установки демонстрационной БД на сервере
***
Последовательность работы приложения
-----------------------------------
1. действия начинаются со страницы администрирования, на которой нужно выбрить последовательно дату, мастера и часы работы, чтобы формировать расписание на каждый день для всех мастеров. На каждый выбор реагируют обработчики событий, которые отправляют идентификаторы выбранных вариантов на сервер по адресам **api/...**. Серверные php-коды заносят или читают данные в БД, и отправляют результаты в ответ в браузер, где они заносятся шаблонизатором hogan в шаблоны разметки и подставляются на страницу вместо старых участков разметки;
2. в файле **index.html** форма промаркирована, чтобы ее можно было легче найти из сценария **js/custom/ajax.js**;
3. когда пользователь заполнил поля формы и кликнул по кнопке отправки, файл **js/custom/ajax.js** предотвращает синхронную отправку данных, из-за которой произошла бы перезагрузка страницы, и вместо этого отправляет данные на сервер асинхронно;
4. файлы наподобие **api/orders.php** на сервере принимает данные из формы и при помощи подключенных к нему файлов из каталогов **persistence** и **persistence/entities**, затем читают их или сохраняют в таблицы в БД, после чего отправляют ответ веб-странице (например, что бронирование выполнено);
5. администратор сайта может набрать в адресной строке после базового адреса сайта вместо "index.html" окончание "admin/index.html", чтобы увидеть страницу списка заказов, на которой происходило формирование расписания;
6. при каждой перезагрузке страницы администрирования или при выборе на ней другой даты, файл **admin/js/custom.js**, подключенный к странице **admin/index.html**, отправляет асинхронный запрос к файлу **api/orders.php** на сервер, и тот при помощи подключенных к нему файлов **persistence/db_connector.php** и **persistence/entities** получает данные о всех заказах из БД за выбранную дату, затем эти данные передаются в ответ на клиент (в браузер) - в файл **admin/js/custom.js**, который выводит их на странице **admin/index.html** в виде таблицы при помощи шаблонизатора hogan.
